# C语言期末模拟题2

<img src="C:\Users\37623\AppData\Roaming\Typora\typora-user-images\image-20230116233337885.png" alt="image-20230116233337885" style="zoom:50%;" />

```c
//经过检查发现，我这道题在注释出的理解有误，实则直接用简单的z>=PI-0.00001的时候即可！
//后面有更正后的代码
#define _CRT_SECURE_NO_WARNINGS 1
#include<stdio.h>
#include<math.h>
void ComputerPi();
int main(void)
{
	ComputerPi();
}
 
void ComputerPi()
{
	int n, i;
	double sum0,sum2,sum3;
	double z,z1;
	sum0 = 0;
	double sum1 = 0;
	for (i = 1; i < 100000000; i++)
	{
		n = 1;
		sum0 += 6.0 * 1.0 / (i * i);
		z = pow(sum0, 0.5);
		sum1 += 1.0 / (i * i);
		
        if (z <= (3.14159265-0.00001))			
		{
			sum2 = sum1;
			z1 = z;
			n = 0;
		}
        //通过遍历，已经可知其函数为递增函数，则一旦z在if处成立，则开始打印else，将原本的if值赋给else中
		else
		{
			printf("计算得到的和%f\n", sum2);
			printf("n = %d\n", i - 1);
			printf("PI = %f\n", z1);
			break;
		}

		/*if (z <= (3.14159265 - 0.00001))		//用来全部遍历调试
		{
			printf("计算得到的和%f\n", sum1);
			printf("n = %d\n", i);
			printf("PI = %f\n", z);
			
		}*/
	}
}
```

```c
#define _CRT_SECURE_NO_WARNINGS 1
#include<stdio.h>
#include<math.h>
void ComputerPi();
int main(void)
{
	ComputerPi();
}
 
void ComputerPi()
{
	int n, i;
	double sum0,sum2,sum3;
	double z,z1;
	sum0 = 0;
	double sum1 = 0;
	for (i = 1; i < 100000000; i++)
	{
		n = 1;
		sum0 += 6.0 * 1.0 / i / i;
		z = pow(sum0, 0.5);
		sum1 += 1.0 / i / i;
		/*原本我的代码是
		sum0 += 6.0 * 1.0 / (i * i);
		sum1 += 1.0 / (i * i);
		但是在编译的时候显示inf，即infinity，一般是因为得到的数值，超出浮点数的表示范围，或者分母是0；
		如果要改进的话，则应该改为如上的代码
		*/
		if (z >= (3.14159265 - 0.00001))
		{
			printf("计算得到的和%.10f\n", sum1);
			printf("n = %d\n", i - 1);
			printf("PI = %.10f\n", z);
			break;
		}
	}
}
```

<img src="C:\Users\37623\AppData\Roaming\Typora\typora-user-images\image-20230116235912541.png" alt="image-20230116235912541" style="zoom:50%;" />

